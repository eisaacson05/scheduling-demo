<div class="row h-100">

  <!-- BEGIN TIME COLUMN -->
  <div class="col-1 mt-5 p-0 d-flex flex-column">
    <div class="column-heading-no-bg"></div>
    <% @tod_range.each do |h| %>
      <div class="hour-cell">
        <%= ScheduleService::prettify_tod_hour(h) %>
      </div>
    <% end %>
  </div>
  <!-- END TIME COLUMN -->

  <!-- BEGIN TECHNICIAN COLUMNS -->

  <% @technicians.all.each do |technician| %>

    <div class="technician-col col mt-5 p-0 d-flex flex-column">

      <!-- BEGIN COLUMN HEADING -->
      <div class="column-heading">
        <div class="badge">
          <%= technician.name.titleize %>
        </div>
      </div>
      <!-- END COLUMN HEADING -->

      <div style="position: relative" class="d-flex flex-fill flex-column">

        <!-- BEGIN HOUR LINES -->
        <% @tod_range.each do |h| %>
          <div class="hour-cell"></div>
        <% end %>
        <!-- END HOUR LINES -->

        <!-- BEGIN ABSOLUTE SCHEDULE ITEMS -->
        <% technician.work_orders.each do |work_order| %>
          <% css_string = ScheduleService::css_for_work_order(work_order, @tod_range.first) %>
          <div
            style="<%= css_string %>"
            class="work-order-cell shadow p-3"
          >
            <p>
              <%= work_order.location.name  %>,
              <%= work_order.location.city  %>
              @ <%= work_order.pretty_tod  %>
            </p>
            <p>
              Price: <%= work_order.pretty_price %>
            </p>
          </div>
        <% end %>
        <!-- END ABSOLUTE SCHEDULE ITEMS -->
      </div>
    </div>
  <% end %>
  <!-- END TECHNICIAN COLUMNS -->
</div>
